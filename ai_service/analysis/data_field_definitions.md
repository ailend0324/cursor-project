# 数据字段定义表

## 1. 对话标识字段

### touch_id
- **类型**：整数（int64）
- **定义**：对话的唯一标识符
- **用途**：用于追踪和关联同一对话中的所有消息
- **完整性**：100%完整（748,593条记录都有值）
- **示例**：10424248388951

### seq_no
- **类型**：浮点数（float64）
- **定义**：消息在对话中的序列号
- **用途**：确定对话中消息的顺序
- **完整性**：99.6%完整（约0.4%缺失，与`send_content`和`sender_type`缺失率一致）
- **示例**：1.0, 2.0, 3.0

## 2. 用户相关字段

### user_name
- **类型**：字符串（object）
- **定义**：用户名
- **用途**：识别对话的用户
- **完整性**：100%完整
- **示例**：tb946744953，伟大的潮哥

### user_start_time
- **类型**：字符串（object）
- **定义**：用户开始对话的时间
- **用途**：记录对话开始时间点
- **完整性**：100%完整
- **示例**：2025-01-05 09:00:02

### user_end_time
- **类型**：字符串（object）
- **定义**：用户结束对话的时间
- **用途**：记录对话结束时间点
- **完整性**：99.99%完整（仅极少数记录缺失）
- **示例**：2025-01-05 09:15:30

## 3. 客服相关字段

### servicer_name
- **类型**：字符串（object）
- **定义**：客服名称
- **用途**：识别负责的客服人员
- **完整性**：99.4%完整（约0.6%缺失，可能对应无客服回复的对话）
- **示例**：servicer_001, 伟大的潮哥

### new_feedback_name
- **类型**：字符串（object）
- **定义**：用户评价
- **用途**：可能用于标记特殊类型的反馈或问题
- **完整性**：约25%完整（75%缺失代表没有评价）
- **获取方式**：用户根据服务体验在评价页面主动选择"满意/不满意"等选项，不选择则字段为空
- **示例值分布**：
  - 非常满意：约76.3%
  - 非常不满意：约11.9% 
  - 满意：约8.6%
  - 一般：约2.9%
  - 不满意：约0.4%

## 4. 时间相关字段

### create_time
- **类型**：字符串（object）
- **定义**：记录创建的时间
- **用途**：系统记录创建时间
- **完整性**：100%完整
- **时区**：北京时间（UTC+8）
- **示例**：2025-01-05 09:00:02

### send_time
- **类型**：字符串（object）
- **定义**：消息实际发送的时间
- **用途**：记录消息发送的具体时间点
- **完整性**：99.6%完整（约0.4%缺失）
- **时区**：北京时间（UTC+8）
- **示例**：2025-01-05 09:00:05

## 5. 消息内容字段

### send_content
- **类型**：字符串（object）
- **定义**：消息的实际内容
- **用途**：存储对话的具体内容
- **完整性**：99.6%完整（约0.4%缺失）
- **特征**：
  - 平均长度：约26.7字符（基于10万条样本分析）
  - 最大长度：约3000字符（部分客服消息较长）
  - 最小长度：0字符（空消息）
  - 长度分布：
    - 0-10字符：约42%
    - 10-20字符：约24.6%
    - 20-50字符：约21.1%
    - 50字符以上：约12.3%
  - 用户消息长度：平均14.7字符，最大263字符
  - 客服消息长度：平均35.9字符，最大3000字符
  - 系统消息长度：平均54.8字符，最大170字符
  - 常见格式：文本为主，少量包含URL、商品编号或订单号、表情图片

### sender_type
- **类型**：浮点数（float64）
- **定义**：消息发送者的类型
- **取值**：
  - 1.0：用户消息（约46.2%）
  - 2.0：客服消息（约50.1%）
  - 4.0：系统消息（约3.7%）
- **完整性**：99.6%完整（约0.4%缺失）
- **示例**：1.0（用户消息）
- **系统消息常见类型**：
  - 欢迎语："亲，您已经进入人工服务，我是回收宝小宝客服！为了帮助您尽快解答，请您提供订单编号或者下单手机号，快速为您解决问题哦。" (最常见，约占80%的系统消息)
  - 提醒配合："亲，请您提供订单编号或者下单手机号，快速为您解决问题哦~" (约占15%的系统消息)
  - 转接提示："您好，这里是闲鱼官方合作伙伴回收宝客服，您已接入人工服务，给我2分钟，我看一下您前面咨询的问题，避免让您重复描述哈~"

## 6. 其他字段

### group_name
- **类型**：字符串（object）
- **定义**：对话所属的群组名称
- **用途**：用于区分不同业务场景
- **完整性**：100%完整
- **示例值分布**（基于10万条样本分析）：
  - 回收宝验货宝技能组：约47.6%
  - 邮寄回收-回收宝：约34.5%
  - 上门&到店回收-回收宝：约14.6%
  - 邮寄帮卖及鱼市-回收宝：约2.8%
  - 一口价帮卖-回收宝：约0.5%
  - 保卖计划技能组：约0.1%
- **业务特点**：
  - 回收宝验货宝技能组：产品真伪鉴定，平均对话轮次约17.5轮
  - 邮寄回收-回收宝：寄送流程咨询为主，平均对话轮次约17.6轮
  - 上门&到店回收-回收宝：上门服务预约咨询，平均对话轮次约15.3轮
  - 邮寄帮卖及鱼市-回收宝：委托销售咨询，平均对话轮次约15.7轮
  - 一口价帮卖-回收宝：价格咨询为主，平均对话轮次较短，约11.3轮
  - 保卖计划技能组：复杂业务咨询，平均对话轮次最长，约31轮

## 7. 字段关系说明

### 对话完整性
- 每个 `touch_id` 应该对应一个完整的对话
- `seq_no` 在该 `touch_id` 内连续递增
- 部分对话没有客服回复信息，用户直接离开
  - **识别方法**：`sender_type`全为1.0且消息数量少于3条
  - **实际情况**：样本中约10%的对话无客服回复
  - **处理建议**：
    - 标记为"用户放弃对话"
    - 分析首条消息内容，识别可能的意图
    - 设计更有吸引力的自动欢迎语和首问

### 时间顺序
- `user_start_time` ≤ `send_time` ≤ `user_end_time`
- `create_time` 应该接近或等于第一条消息的 `send_time`

### 消息类型
- `sender_type` 为 1.0 的消息应该对应 `user_name`
- `sender_type` 为 2.0 的消息应该对应 `servicer_name`
- `sender_type` 为 4.0 的消息通常为系统自动消息

### 转人工流程
- **识别标准**：
  - 用户明确表达："人工"、"转人工"、"人工客服"等关键词
  - 数据表明约11.9%的消息包含"人工"或"客服"关键词
  - 连续多次相似问题（3次以上）表示AI未理解用户意图
  - 复杂问题：涉及多个业务领域或需要特殊处理
- **转人工成功标志**：
  - 系统消息(`sender_type=4.0`)提示转接相关内容
  - 之后出现客服消息(`sender_type=2.0`)，通常以"亲亲，我是小宝人工客服，有什么可以帮到您呢？"开头（这是最常见的客服回复模板）
- **转人工失败标志**：
  - 用户多次请求人工但继续由系统回复
  - 系统提示"暂无可用人工客服"

## 8. 待确认问题与处理规则

1. **数据处理规则**
   - 非标准字符（如表情、特殊符号）：统一忽略不做特殊处理
   - 时区处理：所有时间字段均采用北京时间（UTC+8）
   - 评价数据缺失：用户未主动选择评价选项导致，保持字段为空

2. **业务决策规则**
   - "其他类"问题（占比47.8%）：将在后续用户诉求分类分析中进一步细分
   - 不同业务场景处理：各场景下类似用户诉求的分类方式保持一致
   - 无客服回复对话（约10%）：需确定处理策略和改进方案
   - AI客服与人工客服的协作流程优化

## 9. 数据质量指标

### 完整性指标
- 关键字段完整性 > 99%
- 可选字段完整性 > 25%

### 准确性指标
- 时间顺序正确性：100%
- 消息类型准确性：100%
- 对话完整性：待统计

### 一致性指标
- 时间格式一致性：待确认
- 编码格式一致性：待确认
- 命名规则一致性：待确认

### 对话质量指标
- **响应时间**：
  - 定义：客服回复用户消息的平均时间间隔
  - 计算：相邻的用户消息和客服回复之间的时间差
  - 基准：根据样本分析，首次响应通常在30秒内，客服平均响应速度较快
  - 发现：约35.6%的对话中用户表达了感谢，可能表明问题得到了满意解决
- **对话有效性**：
  - 有效对话：包含3轮以上交互且有明确问题解决
  - 无效对话：用户无响应、单向信息传递或明显中断
  - 数据显示：平均对话轮次约16.5轮（基于10万样本），说明多数对话有效且深入
- **解决率**：
  - 完全解决：用户明确表示满意或问题解决
  - 部分解决：回答了问题但可能需要后续跟进
  - 未解决：转人工或用户表达不满
- **对话时长**：
  - 平均时长：约9.3分钟（基于10万样本）
  - 典型分布：5-10分钟占比最大，约47.1%
  - 短对话（0-5分钟）：约20.6%
  - 中等对话（10-15分钟）：约19.0%
  - 长对话（15分钟以上）：约13.3%

## 10. 建议的派生字段

1. **对话特征字段**：
   - `conversation_duration`：对话持续时间（分钟）
   - `user_wait_time`：用户平均等待时间（秒）
   - `turns_count`：对话总轮次
   - `question_category`：问题主要类别
   - `resolution_status`：解决状态（已解决/未解决/转人工）

2. **用户行为字段**：
   - `user_patience`：用户耐心度（基于等待时间和消息频率）
   - `question_clarity`：问题清晰度（基于消息长度和修正次数）
   - `user_emotion`：情绪倾向（积极/中性/消极）

3. **客服表现字段**：
   - `response_quality`：回复质量评分
   - `response_speed`：回复速度（秒）
   - `solution_directness`：解决方案直接程度
   - `followup_questions`：跟进问题数量
   - `template_usage`：标准模板使用率

## 11. 常见回复模板

以下是数据中出现频率较高的客服回复模板：

1. **首次回复模板**：
   - "亲亲，我是小宝人工客服，有什么可以帮到您呢？"（最常见，占比约4%）
   - "您好"
   - "你好亲"
   - "您好亲"

2. **查询操作模板**：
   - "好的呢，马上为您查询订单，请您稍等1-2分钟"
   - "您稍等两分钟呢，正在帮您查询哟~~"
   - "亲，请稍等，马上帮您查询哈"
   - "好的，马上为您查询订单，请您稍等1-2分钟"

3. **满意度收集模板**：
   - "亲，可以请您帮忙动一下您的发财手，帮我在服务评价点一下【很满意】吗，您的评价对我非常重要，先在此谢谢您！"
   - "期待您的好评，真的很感谢您[ww:飞吻]"

4. **信息收集模板**：
   - "请问您是买家还是卖家呢？"
   - "请问您的订单号是多少呢？"
   - "亲，能否提供一下您的手机号码呢？"

## 12. 用户问题类型

根据对10万样本的分析，用户首次咨询问题的分类分布如下：

1. **其他**：约47.8%（不能明确分类的问题）
2. **订单物流**：约26.8%（含"订单"、"物流"、"快递"、"发货"、"收货"等关键词）
3. **问候语**：约12.6%（如"你好"、"您好"等问候）
4. **人工请求**：约4.9%（直接请求转接人工服务）
5. **价格咨询**：约3.3%（关于产品价格、估价的咨询）
6. **质量问题**：约2.4%（产品质量、故障相关问题）
7. **退换货**：约1.4%（退款、退货、换货请求）
8. **账号问题**：约0.7%（账号、登录、注册相关问题）
9. **使用指导**：约0.2%（产品使用方法相关问题）

最常见的用户短语是确认性词语（如"好的"、"是的"、"好"、"对"），这表明用户在对话中经常使用简短回复确认信息。 